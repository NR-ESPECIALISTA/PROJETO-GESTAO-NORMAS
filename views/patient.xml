<?xml version='1.0' encoding='utf-8'?>
<odoo>

    <record id="view_hospital_patient_tree" model="ir.ui.view">
        <field name="name">hospital.patient.form</field>
        <field name="model">hospital.patient</field>
        <field name="arch" type="xml">
            <tree>                
                <field name="name" placeholder="Nome do Equipamento" class="oe_title" string="Descrição"/>
                <field name="desc_equip" string="Nome"/>
                <field name="state" string="Condição"/>
                <!-- <field name="activity_ids" string="Pendências"/> -->
                <field name="imagem_equip" widget="image" string="Imagem" options="{'size': [150, 150]}"/>
            </tree>
        </field>
    </record>
    
    <record id="view_hospital_patient_form" model="ir.ui.view">
        <field name="name">hospital.patient.form</field>
        <field name="model">hospital.patient</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <field name="state" widget="statusbar" nolabel="1" options="{'clickable': '1'}"/>
                </header>
                <sheet> 
                    <h1>
                        <field name="name" placeholder="Nome do Equipamento" class="oe_title"/>
                        <field name="imagem_equip" widget="image" class="oe_avatar" options="{'size': [300, 300]}"/>
                    </h1>
                    <group>
                        <div>
                            <group>
                                <field name="responsavel_id" widget="many2one_avatar"/>
                                <field name="contrato_id" />
                            </group>
                            <group string="Normas Gerenciadas">
                                <field name="nr13" />
                                <field name="nr12" />
                                <field name="nr11" />
                                <field name="nr10" />                                    
                            </group>
                            <group>
                                <field name="tipo_equip" />
                            </group>
                        </div>
                        <group>
                            <!-- Parte da Direita da view -->
                        </group>
                    </group>
                    <group>
                        <group string="Informações do Equipamento">
                            <field name="desc_equip" />
                            <field name="ano_fabri" />
                            <field name="num_serie" />
                            <field name="lote" />
                        </group>
                        <group string="Informações do Contato">
                            <field name="cliente_propri" />
                            <field name="depar_respon" />
                            <field name="local_instalacao"/>
                        </group>
                    </group>
                    <group>
                        <div>
                            <group string="Equipamento Vinculado" attrs="{'invisible': ['|', '|', ('tipo_equip', '=', 'psv'),
                            ('tipo_equip', '=', 'pi'), ('tipo_equip', '=', False)]}">
                                <field name="equip_instrumen_psv" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_instrumen_pi" widget="radio" options="{'horizontal': true}"/>
                            </group>
                            <group string="Dados Técnicos da Caldeira" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'caldeira'),
                            ('tipo_equip', '=', False)]}">
                                <field name="equip_cal_capacidade" />
                                <field name="equip_cal_pmta"/>
                                <field name="equip_cal_press_trabalho"/>
                                <field name="equip_cal_press_teste"/>
                                <field name="equip_cal_temp_projeto"/>
                                <field name="equip_cal_temp_operacao"/>
                                <field name="equip_cal_volume"/>
                                <field name="equip_cal_ambiente_instalacao" widget="radio" options="{'horizontal': true}"/>
                            </group>
                        </div>
                        <group>

                        </group>
                    </group>
                    <group>
                        <group string="Dados Técnicos do Vaso - Lado Casco" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'vaso_de_pressao'),
                        ('tipo_equip', '=', False)]}">
                            <field name="equip_vaso_casco_tubo" />
                            <field name="equip_vaso_casco_press_trabalho" />
                            <field name="equip_vaso_casco_pmta" />
                            <field name="equip_vaso_casco_press_teste" />
                            <field name="equip_vaso_casco_temp_projeto" />
                            <field name="equip_vaso_casco_temp_operacao" />
                            <field name="equip_vaso_casco_compri_altura" />
                            <field name="equip_vaso_casco_diametro" />
                            <field name="equip_vaso_casco_volume" />
                            <field name="equip_vaso_casco_tipo_fluidos" />
                            <field name="equip_vaso_casco_categoria" />
                        </group>
                        <group string="Dados Técnicos do Vaso - Lado Tubo" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'vaso_de_pressao'),
                        ('equip_vaso_casco_tubo', '=', False)]}">
                            <field name="equip_vaso_tubo_press_trabalho" />
                            <field name="equip_vaso_tubo_pmta" />
                            <field name="equip_vaso_tubo_press_teste" />
                            <field name="equip_vaso_tubo_temp_projeto" />
                            <field name="equip_vaso_tubo_temp_operacao" />
                            <field name="equip_vaso_tubo_volume" />
                            <field name="equip_vaso_tubo_tipo_fluido" />
                            <field name="equip_vaso_tubo_categoria" />
                        </group>
                    </group>
                    <group>
                        <group string="Dados Técnicos da Tubulação" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'tubulacao'),
                        ('tipo_equip', '=', False)]}">
                            <field name="equip_tubu_pmta" />
                            <field name="equip_tubu_press_trabalho" />
                            <field name="equip_tubu_press_teste" />
                            <field name="equip_tubu_temp_projeto" />
                            <field name="equip_tubu_temp_operacao" />
                            <field name="equip_tubu_volume" />
                            <field name="equip_tubu_isolamento" widget="radio" options="{'horizontal': true}"/>
                        </group>                        
                    </group>
                    <group>
                        <group string="Dados Técnicos do Tanque" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'tanque'),
                        ('tipo_equip', '=', False)]}">
                            <field name="equip_tanque_press_trabalho" />
                            <field name="equip_tanque_temp_projeto" />
                            <field name="equip_tanque_temp_operacao" />
                            <field name="equip_tanque_volume" />
                            <field name="equip_tanque_altura" />
                            <field name="equip_tanque_diametro_interno" />
                        </group>
                    </group>
                    <group>
                        <group string="Dados Técnicos da PSV" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'psv'),
                        ('tipo_equip', '=', False)]}">
                            <field name="equip_psv_press_ajuste" />
                            <field name="equip_psv_temp_operacao" />
                            <field name="equip_psv_diametro_entrada" />
                            <field name="equip_psv_diametro_saida" />
                            <field name="equip_psv_tipo_conexao" widget="radio" options="{'horizontal': true}"/>
                            <field name="equip_psv_alavanca" widget="radio" options="{'horizontal': true}"/>
                            <field name="equip_psv_castelo" widget="radio" options="{'horizontal': true}"/>
                        </group>
                    </group>  
                    <group>                
                        <group string="Dados Técnicos do PI" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'pi'),
                        ('tipo_equip', '=', False)]}">
                            <field name="equip_pi_tipo_manometro" />
                            <field name="equip_pi_escala_pressao" />
                            <field name="equip_pi_diametro_caixa" />
                            <field name="equip_pi_material_caixa" />
                            <field name="equip_pi_visor" />
                            <field name="equip_pi_enchimento" />
                            <field name="equip_pi_posicao" />
                            <field name="equip_pi_conexao" />
                            <field name="equip_pi_temp_trabalho" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Documentação do Vaso" style="font-size: 17px" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'vaso_de_pressao'),
                        ('tipo_equip', '=', False)]}">
                            <group name="name" string="RELATÓRIOS E LAUDOS">
                                <field name="equip_doc_vaso_exame_externo_relatorio" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_exame_externo_validade_date"/>
                                <field name="equip_doc_vaso_exame_externo_foto_pdf" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_exame_externo_image" widget="image" options="{'size': [250, 250]}"/>
                                <field name="equip_doc_vaso_exame_interno_relatorio" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_exame_interno_substituido"/>
                                <field name="equip_doc_vaso_exame_interno_validade_date"/>
                                <field name="equip_doc_vaso_exame_interno_foto_pdf" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_exame_interno_image" widget="image" options="{'size': [250, 250]}"/>
                            </group>
                            <group string="PRONTUÁRIO OU DATA-BOOK">
                                <field name="equip_doc_vaso_prontuario_existe" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_prontuario_foto_pdf" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_prontuario_image" widget="image" options="{'size': [250, 250]}"/>
                            </group>
                            <group string="TESTE HIDROSTÁTICO">
                                <field name="equip_doc_vaso_th_existe" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_th_substituido" />
                                <field name="equip_doc_vaso_th_possui_validade" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_th_validade_date" />
                                <field name="equip_doc_vaso_th_foto_pdf" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_th_image" widget="image" options="{'size': [250, 250]}"/>
                            </group>
                            <group string="A.R.T.">
                                <field name="equip_doc_vaso_art_existe" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_art_validade_date" />
                            </group>
                            <group string="PROJETO DE ALTERAÇÃO E REPARO (PAR)">
                                <field name="equip_doc_vaso_par_existe" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_par_foto_pdf" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_par_image" widget="image" options="{'size': [250, 250]}"/>
                            </group>
                            <group string="TREINAMENTOS">
                                <field name="equip_doc_vaso_operador_possui_treinamento" widget="radio" options="{'horizontal': true}"/>
                            </group>
                            <group string="REGISTRO DE SEGURANÇA (LIVRO)">
                                <field name="equip_doc_vaso_livro_existe" widget="radio" options="{'horizontal': true}"/>
                                <field name="equip_doc_vaso_livro_image" widget="image" options="{'size': [250, 250]}"/>
                            </group>
                        </page>  
                        <page string="Documentação da Caldeira" style="font-size: 17px" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'caldeira'),
                        ('tipo_equip', '=', False)]}">
                        
                        </page>  
                        <page string="Documentação da Tubulação" style="font-size: 17px" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'tubulacao'),
                        ('tipo_equip', '=', False)]}">
                        </page>  
                        <page string="Documentação do Tanque" style="font-size: 17px" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'tanque'),
                        ('tipo_equip', '=', False)]}">
                        </page>  
                        <page string="Documentação do PI" style="font-size: 17px" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'pi'),
                        ('tipo_equip', '=', False)]}">
                        </page>  
                        <page string="Documentação da PSV" style="font-size: 17px" attrs="{'invisible': ['|', ('tipo_equip', '!=', 'psv'),
                        ('tipo_equip', '=', False)]}">
                        </page>  
                        <page string="Documentação NR-11" style="font-size: 17px">
                        </page>   
                    </notebook>
                </sheet>
                <!-- Chatter -->
                <!--<div class="oe_chatter">
                    <field name="message_follower_ids" groups="base.group_user" />
                    <field name="activity_ids"/>
                    <field name="message_ids" />
                </div>-->
            </form>
        </field>
    </record>
    
    <record id="action_hospital_patient" model="ir.actions.act_window">
        <field name="name">Equipamentos</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hospital.patient</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first patient!
            </p>
        </field>
    </record>

    <menuitem
            id="menu_patient"
            name="Equipamentos"
            action="action_hospital_patient"
            parent="menu_hospital_root"
            sequence="1"/>
    
</odoo>